{"version":3,"sources":["store/types.ts","api/api.ts","store/actions.ts","store/selectors.ts","components/CurrentUser/CurrentUser.tsx","components/TodoList/TodoList.tsx","App.tsx","store/store.ts","index.tsx"],"names":["ActionType","request","url","fetch","then","response","json","selectUserIdAction","payload","type","SelectUserById","getTodosSeletor","state","todos","selectedUserIdSelector","selectUserById","getUserSelector","user","CurrentUser","dispatch","useDispatch","selectedUser","useSelector","selectedId","useEffect","userId","data","LoadUserById","className","name","email","phone","onClick","TodoList","useState","query","setQuery","selectedOption","setSelectedOption","res","AddTodos","filteredTodos","useMemo","filter","todo","title","toLowerCase","includes","completed","value","onChange","event","target","id","placeholder","map","checked","readOnly","App","React","memo","initialState","store","createStore","action","Root","ReactDOM","render","document","getElementById"],"mappings":"uNAaYA,E,uCCTNC,G,MAAU,SAACC,GACf,OAAOC,MAAM,GAAD,OAHG,qCAGH,OAAeD,IACxBE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,a,SDOnBN,K,oBAAAA,E,gCAAAA,E,6BAAAA,M,KEPL,IAKMO,EAAqB,SAACC,GAAD,MAA0C,CAC1EC,KAAMT,EAAWU,eACjBF,YCVWG,EAAkB,SAACC,GAAD,OAA0BA,EAAMC,OAClDC,EAAyB,SAACF,GAAD,OAAkBA,EAAMG,gBACjDC,EAAkB,SAACJ,GAAD,OAAkBA,EAAMK,M,eCE1CC,EAAwB,WACnC,IAAMC,EAAWC,cACXC,EAAeC,YAAYN,GAC3BO,EAAaD,YAAYR,GAO/B,OALAU,qBAAU,WHDe,IAACC,KGEZF,EHF8CtB,EAAQ,UAAD,OAAWwB,KGGzErB,MAAK,SAAAsB,GAAI,OAAIP,GFEUX,EEFakB,EFE0B,CACnEjB,KAAMT,EAAW2B,aACjBnB,aAF2B,IAACA,OEDzB,CAACe,IAGF,sBAAKK,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,wDAAyBL,OAG3B,oBAAIK,UAAU,oBAAd,gBAAmCP,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAcQ,OACjD,mBAAGD,UAAU,qBAAb,gBAAmCP,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAcS,QACjD,mBAAGF,UAAU,qBAAb,gBAAmCP,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAcU,QAEjD,wBACEtB,KAAK,SACLmB,UAAU,+BACVI,QAAS,kBAAMb,EAASZ,EAAmB,KAH7C,uB,QCXO0B,G,MAAqB,WAChC,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4CF,mBAAS,OAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KAEMzB,EAAQS,YAAYX,GACpBQ,EAAWC,cAGjBI,qBAAU,WJfmCvB,EAAQ,UIgBxCG,MAAK,SAAAmC,GAAG,OAAIpB,GHnBWX,EGmBoB+B,EHnBiB,CACzE9B,KAAMT,EAAWwC,SACjBhC,aAFmC,IAACA,OGoBjC,IAEH,IAAMiC,EAAgBC,mBAAQ,kBAC5B7B,EAAM8B,QAAO,SAAAC,GAAI,OACfA,EAAKC,MAAMC,cAAcC,SAASZ,EAAMW,kBAEvCH,QAAO,SAAAC,GACN,OAAQP,GACN,IAAK,SACH,OAAQO,EAAKI,UACf,IAAK,YACH,OAAOJ,EAAKI,UACd,QACE,OAAO,QAER,CAACX,EAAgBF,EAAOtB,IAEjC,OACE,sBAAKe,UAAU,WAAf,UACE,wCACA,uBACEnB,KAAK,OACLwC,MAAOd,EACPe,SAAU,SAAAC,GAAK,OAAIf,EAASe,EAAMC,OAAOH,QACzCI,GAAG,eACHzB,UAAU,iBACV0B,YAAY,oBAEd,yBACEJ,SAAU,SAAAC,GAAK,OAAIb,EAAkBa,EAAMC,OAAOH,QAClDrB,UAAU,mBAFZ,UAIE,wBAAQqB,MAAM,MAAd,iBACA,wBAAQA,MAAM,SAAd,oBACA,wBAAQA,MAAM,YAAd,0BAEF,qBAAKrB,UAAU,2BAAf,SACE,oBAAIA,UAAU,iBAAd,SACGa,EAAcc,KAAI,SAAAX,GAAI,OACrB,qBACEhB,UAAS,yBAAoBgB,EAAKI,UAAY,0BAA4B,6BAD5E,UAIE,kCACE,uBAAOvC,KAAK,WAAW+C,QAASZ,EAAKI,UAAWS,UAAQ,IACxD,4BAAIb,EAAKC,WAEX,yBACEjB,UAAU,+BACVnB,KAAK,SACLuB,QAAS,kBAtDDqB,EAsDoBT,EAAKnB,OAtDVN,EAASZ,EAAmB8C,IAA5C,IAACA,GAmDV,qBAMGT,EAAKnB,YAZHmB,EAAKS,gBC3DXK,EAAgBC,IAAMC,MAAK,WACtC,IAAMrC,EAAaD,YAAYR,GAE/B,OACE,sBAAKc,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,MAEF,qBAAKA,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACGL,EAEG,cAAC,EAAD,IAEA,4D,sBCnBRsC,EAAsB,CAC1BhD,MAAO,GACPE,eAAgB,EAChBE,KAAM,MA2BK6C,EAA+BC,aAxBH,WAE5B,IADXnD,EACU,uDADKiD,EAAcG,EACnB,uCACV,OAAQA,EAAOvD,MACb,KAAKT,EAAWwC,SACd,OAAO,2BACF5B,GADL,IAEEC,MAAM,GAAD,mBAAMD,EAAMC,OAAZ,YAAsBmD,EAAOxD,YAEtC,KAAKR,EAAWU,eACd,OAAO,2BACFE,GADL,IAEEG,eAAgBiD,EAAOxD,UAE3B,KAAKR,EAAW2B,aACd,OAAO,2BACFf,GADL,IAEEK,KAAM+C,EAAOxD,UAEjB,QACE,OAAOI,MCrBPqD,EAAO,kBACX,cAAC,IAAD,CAAUH,MAAOA,EAAjB,SACE,cAAC,EAAD,OAIJI,IAASC,OAAO,cAAC,EAAD,IAAUC,SAASC,eAAe,W","file":"static/js/main.c81d4851.chunk.js","sourcesContent":["import { Action as BaseAction } from 'redux';\nimport { Todo, User } from '../types';\n\nexport interface State {\n  todos: Todo[],\n  selectUserById: number;\n  user: User | null;\n}\n\nexport interface Action<T, P> extends BaseAction<T> {\n  payload: P,\n}\n\nexport enum ActionType {\n  AddTodos = 'AddTodos',\n  SelectUserById = 'SelectUserById',\n  LoadUserById = 'LoadUserById',\n}\n\nexport type AddTodosAction = Action<ActionType.AddTodos, Todo[]>;\nexport type SelectUserIdAction = Action<ActionType.SelectUserById, number>;\nexport type LoadUserByIdAction = Action<ActionType.LoadUserById, User>;\n\nexport type Actions = AddTodosAction | SelectUserIdAction | LoadUserByIdAction;\n","import { Todo, User } from '../types';\n\nconst BASE_URL = 'https://mate.academy/students-api';\n\nconst request = (url: string) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => response.json());\n};\n\nexport const getTodos = () :Promise<Todo[]> => request('/todos');\n\nexport const getUserById = (userId: number): Promise<User> => request(`/users/${userId}`);\n","import { Todo, User } from '../types';\n\nimport {\n  ActionType, AddTodosAction, LoadUserByIdAction, SelectUserIdAction,\n} from './types';\n\nexport const addTodosActionCreator = (payload: Todo[]): AddTodosAction => ({\n  type: ActionType.AddTodos,\n  payload,\n});\n\nexport const selectUserIdAction = (payload: number): SelectUserIdAction => ({\n  type: ActionType.SelectUserById,\n  payload,\n});\n\nexport const addUserAction = (payload: User): LoadUserByIdAction => ({\n  type: ActionType.LoadUserById,\n  payload,\n});\n","import { Todo } from '../types';\nimport { State } from './types';\n\nexport const getTodosSeletor = (state: State): Todo[] => state.todos;\nexport const selectedUserIdSelector = (state: State) => state.selectUserById;\nexport const getUserSelector = (state: State) => state.user;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getUserById } from '../../api/api';\nimport { addUserAction, selectUserIdAction } from '../../store/actions';\nimport { getUserSelector, selectedUserIdSelector } from '../../store/selectors';\nimport './CurrentUser.scss';\n\nexport const CurrentUser: React.FC = () => {\n  const dispatch = useDispatch();\n  const selectedUser = useSelector(getUserSelector);\n  const selectedId = useSelector(selectedUserIdSelector);\n\n  useEffect(() => {\n    getUserById(selectedId)\n      .then(data => dispatch(addUserAction(data)));\n  }, [selectedId]);\n\n  return (\n    <div className=\"CurrentUser\">\n      <h2 className=\"CurrentUser__title\">\n        <span>{`Selected user: ${selectedId}`}</span>\n      </h2>\n\n      <h3 className=\"CurrentUser__name\">{selectedUser?.name}</h3>\n      <p className=\"CurrentUser__email\">{selectedUser?.email}</p>\n      <p className=\"CurrentUser__phone\">{selectedUser?.phone}</p>\n\n      <button\n        type=\"button\"\n        className=\"TodoList__user-button button\"\n        onClick={() => dispatch(selectUserIdAction(0))}\n      >\n        Clear\n      </button>\n    </div>\n  );\n};\n","import React, {\n  useState, useMemo, useEffect,\n} from 'react';\n\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport { getTodos } from '../../api/api';\n\nimport {\n  addTodosActionCreator, selectUserIdAction,\n} from '../../store/actions';\n\nimport { getTodosSeletor } from '../../store/selectors';\n\nimport './TodoList.scss';\n\nexport const TodoList: React.FC = () => {\n  const [query, setQuery] = useState('');\n  const [selectedOption, setSelectedOption] = useState('all');\n\n  const todos = useSelector(getTodosSeletor);\n  const dispatch = useDispatch();\n  const selectUserId = (id: number) => dispatch(selectUserIdAction(id));\n\n  useEffect(() => {\n    getTodos().then(res => dispatch(addTodosActionCreator(res)));\n  }, []);\n\n  const filteredTodos = useMemo(() => (\n    todos.filter(todo => (\n      todo.title.toLowerCase().includes(query.toLowerCase())\n    ))\n      .filter(todo => {\n        switch (selectedOption) {\n          case 'active':\n            return !todo.completed;\n          case 'completed':\n            return todo.completed;\n          default:\n            return true;\n        }\n      })), [selectedOption, query, todos]);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n      <input\n        type=\"text\"\n        value={query}\n        onChange={event => setQuery(event.target.value)}\n        id=\"search-query\"\n        className=\"TodoList_input\"\n        placeholder=\"Write the Title\"\n      />\n      <select\n        onChange={event => setSelectedOption(event.target.value)}\n        className=\"TodoList_section\"\n      >\n        <option value=\"all\">all</option>\n        <option value=\"active\">active</option>\n        <option value=\"completed\">completed</option>\n      </select>\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {filteredTodos.map(todo => (\n            <li\n              className={`TodoList__item ${todo.completed ? 'TodoList__item--checked' : 'TodoList__item--unchecked'}`}\n              key={todo.id}\n            >\n              <label>\n                <input type=\"checkbox\" checked={todo.completed} readOnly />\n                <p>{todo.title}</p>\n              </label>\n              <button\n                className=\"TodoList__user-button button\"\n                type=\"button\"\n                onClick={() => selectUserId(todo.userId)}\n              >\n                User&nbsp;\n                {todo.userId}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport './App.scss';\nimport { CurrentUser } from './components/CurrentUser/CurrentUser';\nimport { TodoList } from './components/TodoList/TodoList';\nimport { selectedUserIdSelector } from './store/selectors';\n\nexport const App: React.FC = React.memo(() => {\n  const selectedId = useSelector(selectedUserIdSelector);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList />\n      </div>\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedId\n            ? (\n              <CurrentUser />\n            ) : (\n              <h3>\n                No user selected\n              </h3>\n            )}\n        </div>\n      </div>\n    </div>\n  );\n});\n","import { createStore, Reducer, Store } from 'redux';\nimport { Actions, ActionType, State } from './types';\n\nconst initialState: State = {\n  todos: [],\n  selectUserById: 0,\n  user: null,\n};\n\nconst reducer: Reducer<State, Actions> = (\n  state: State = initialState, action,\n): State => {\n  switch (action.type) {\n    case ActionType.AddTodos:\n      return {\n        ...state,\n        todos: [...state.todos, ...action.payload],\n      };\n    case ActionType.SelectUserById:\n      return {\n        ...state,\n        selectUserById: action.payload,\n      };\n    case ActionType.LoadUserById:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const store: Store<State, Actions> = createStore(reducer);\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { App } from './App';\nimport { store } from './store/store';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}